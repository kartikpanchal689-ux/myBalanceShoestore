(window.webpackJsonp=window.webpackJsonp||[]).push([["minicart-chunk"],{"./cartridges/org_newbalance/cartridge/client/default/js/components/miniCart.js":
/*!**************************************************************************************!*\
  !*** ./cartridges/org_newbalance/cartridge/client/default/js/components/miniCart.js ***!
  \**************************************************************************************/
/*! no static exports found */function(t,n,e){"use strict";var i=!0,r=e(/*! ../util/events */"./cartridges/org_newbalance/cartridge/client/default/js/util/events.js");t.exports=function(){var t=$("body"),n=$(".minicart"),a=$(".minicart .popover"),o=$(".mini-cart-sheet"),c=$(".minicart .popover, .mini-cart-sheet-container"),s=o.length>0;n.on("count:update",(function(t,n){n&&$.isNumeric(n.quantityTotal)&&($(".minicart .minicart-quantity").text(n.quantityTotal),$(".minicart .minicart-link").attr({"aria-label":n.minicartCountOfItems,title:n.minicartCountOfItems}),n.quantityTotal>0&&n.quantityTotal<100?$(".minicart .minicart-quantity").removeClass("d-none"):n.quantityTotal>99&&$(".minicart .minicart-quantity").text(" "))})),n.on("click",(function(t){r.triggerEventDelayed(t.target,r.TRACKING_MINICART)})),s||c.on("mouseenter touchstart",(function(){c.trigger("minicart:hovered")})),n.on("mouseenter touchstart open:minicart",(function(){if(0!==$(".search:visible").length){var t,r=n.data("action-url"),a=parseInt($(".minicart .minicart-quantity").text(),10);if(t=s?(o=n.find(".mini-cart-sheet")).hasClass("open"):c.hasClass("show"),0!==a&&!t){if(n.trigger("minicartHover"),!i)return s?o[0].openSheet():c.addClass("show"),void $("body").trigger("minicart:updateProductRecommendator");if(s)o.find(".sheet-main-content").spinner().start(),o[0].openSheet();else c.addClass("show"),c.spinner().start();$.get(r,(function(t){s?(o.replaceWith(t),o=n.find(".mini-cart-sheet")):(c.empty(),c.append(t)),Promise.resolve().then(e.t.bind(null,/*! ../utils */"./cartridges/org_newbalance/cartridge/client/default/js/utils.js",7)).then((function(t){t.initalizePaypal()})),i=!1,$.spinner().stop(),$("body").trigger("minicart:updateProductRecommendator")}))}$("body").trigger("minicart:updateProductRecommendator")}})),t.on("touchstart click",(function(t){n.has(t.target).length<=0&&c.removeClass("show")})),t.on("change",".minicart .quantity",(function(){$(this).parents(".bonus-product-line-item").length&&$(".cart-page").length})),t.on("product:afterAddToCart",(function(){i=!0})),t.on("cart:update",(function(){i=!0})),t.on("minicart:updateProductRecommendator",(function(){$(".mini-cart-recommendator-products .product-tile").length>=1&&$(".minicart-product-recommendator").is(":empty")&&("none"!==$(".minicart-product-recommendator").css("display")&&a.addClass("product-recommendator"),$(".minicart-product-recommendator").html($(".mini-cart-recommendator-products").html()))})),$(document).on("click touchstart",".minicart .close",(function(){t.trigger("click")}));var d=document.body.querySelector(".page");d&&"Cart-Show"===d.dataset.action&&(Promise.resolve().then(e.t.bind(null,/*! ../utils */"./cartridges/org_newbalance/cartridge/client/default/js/utils.js",7)).then((function(t){t.initalizePaypal()})),e.e(/*! import() */2).then(e.t.bind(null,/*! ../checkout/oneyOSM */"./cartridges/org_newbalance/cartridge/client/default/js/checkout/oneyOSM.js",7))),e.e(/*! import() | cart-chunk */"cart-chunk").then(e.t.bind(null,/*! ../cart/cart */"./cartridges/org_newbalance/cartridge/client/default/js/cart/cart.js",7)).then((function(t){t.default()}))},function(){var t,n,e,i=$(window),r=$("header").innerHeight(),a=$(".header-banner").innerHeight(),o=$(".header-navigation").innerHeight(),c=$(".minicart .popover.popover-bottom"),s=$(".mini-cart-sheet-container"),d=function(){t=i.scrollTop(),n=i.innerHeight(),i.width()>992&&(t>a?c.attr("style","top:"+o+"px !important; min-height: "+(n-o)+"px !important; max-height: "+(n-o)+"px !important"):c.attr("style","top:"+(r-t)+"px !important; min-height: "+(n-o)+"px !important; max-height: "+(n-o)+"px !important")),s.length>0&&(t>a?s[0].style.setProperty("--minicart-sheet-top","".concat(o,"px")):s[0].style.setProperty("--minicart-sheet-top","".concat(r-t,"px")))};function m(){e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(d)}d(),window.addEventListener("scroll",m,!1),window.addEventListener("resize",m,!1)}()}}]);
//# sourceMappingURL=minicart-chunk.js.map